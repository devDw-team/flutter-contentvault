FN-018: Reading Statistics Tracker
- Purpose / Value – Track and visualize reading habits
- Scope / Module – features/viewer/services/reading_stats
- Primary Actor(s) – System, User
- Triggers –
  - Content opened
  - Scroll events
  - App background/foreground
  - Daily aggregation
- Inputs –
  - Content ID (String)
  - Session start/end (DateTime)
  - Scroll position (Double)
  - Interaction events (List)
- Processing Logic –
  1. Start reading session
  2. Track time spent
  3. Monitor scroll depth
  4. Detect idle time
  5. Calculate read speed
  6. End session triggers
  7. Aggregate statistics
  8. Update dashboards
- Outputs –
  - Session data (ReadingSession)
  - Daily stats (DailyStats)
  - Insights (List<Insight>)
- Business Rules & Constraints –
  - Idle timeout: 5 minutes
  - Min session: 10 seconds
  - Privacy: Local only default
  - Retention: 1 year
- Error Handling & Edge Cases –
  - App crash → Recover session
  - Time zone change → Adjust
  - Data corruption → Rebuild
  - Privacy mode → No tracking
- Data Model Touchpoints –
  - reading_sessions (CREATE)
  - reading_stats (UPDATE)
  - daily_aggregates (CREATE)
- API Endpoints / Methods – Local processing
- Permissions / Security – User data only
- Performance / SLA Notes –
  - Batch updates 1min
  - Low battery impact
- UX References –
  - ReadingStatsCard
  - InsightsDashboard
- Dependencies –
  - charts_flutter: ^0.12.0
- Acceptance Criteria –
  - Accurate tracking
  - Privacy respected
  - Insightful stats
  - Low overhead
- Code Pointers –
  - lib/features/viewer/services/reading_stats.dart
  - lib/features/viewer/models/reading_session.dart