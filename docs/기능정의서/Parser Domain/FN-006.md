FN-006: Web Article Extractor
- Purpose / Value – Extract readable content from any web page
- Scope / Module – features/parser/web/article_extractor
- Primary Actor(s) – Background Processor
- Triggers – Generic web URL detected
- Inputs –
  - Web URL (String)
  - User agent (String)
  - Extract options (ExtractOptions)
- Processing Logic –
  1. Fetch HTML content
  2. Detect encoding
  3. Apply Readability algorithm
  4. Extract metadata (title, author, date)
  5. Clean article text
  6. Find main images
  7. Calculate reading time
  8. Generate text preview
- Outputs –
  - Article content (HTML/Text)
  - Metadata object
  - Main image URL
  - Reading time estimate
- Business Rules & Constraints –
  - Max HTML size: 10MB
  - No JavaScript execution
  - Login-required pages fail
  - Timeout: 10 seconds
- Error Handling & Edge Cases –
  - 404/403 → Save failed state
  - Paywall detected → Flag content
  - Encoding issues → UTF-8 fallback
  - No content found → Save as bookmark
- Data Model Touchpoints –
  - article_content (CREATE)
  - contents (CREATE)
- API Endpoints / Methods – Direct HTTP GET
- Permissions / Security – Network permission only
- Performance / SLA Notes –
  - 10s timeout per page
  - Parallel image fetch
- UX References –
  - ArticleReaderView
  - WebContentCard
- Dependencies –
  - readability: ^0.0.2
  - html: ^0.15.0
  - http: ^0.13.0
- Acceptance Criteria –
  - 90% extraction accuracy
  - Support major news sites
  - Clean, readable output
  - Preserve formatting
- Code Pointers –
  - lib/features/parser/web/article_extractor.dart
  - lib/features/parser/web/readability_parser.dart