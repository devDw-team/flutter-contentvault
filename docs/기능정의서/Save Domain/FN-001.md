FN-001: Universal Share Extension
- Purpose / Value – Enable one-click content saving from any app via system share
- Scope / Module – features/save/presentation/share_extension
- Primary Actor(s) – End User, External Apps (YouTube, X, Safari, Threads)
- Triggers – User taps share button in external app
- Inputs – 
  - url: String (required)
  - title: String? (optional) 
  - text: String? (optional)
  - images: List<Uint8List>? (optional)
- Processing Logic –
  1. Receive shared data from OS
  2. Validate URL format and accessibility
  3. Identify content platform (YouTube/X/Web/Threads)
  4. Create pending save entry
  5. Queue for background processing
  6. Show save confirmation UI
  7. Return to source app
- Outputs – 
  - PendingSaveId (String)
  - Success notification
  - Background job queued
- Business Rules & Constraints –
  - URL required for all saves
  - Duplicate URL check (24hr window)
  - Max payload size: 100MB
  - Queue limit: 1000 items
- Error Handling & Edge Cases –
  - Invalid URL → Show error toast
  - Network offline → Queue locally
  - Unsupported platform → Default to web parser
  - Extension crash → Auto-recovery on next launch
- Data Model Touchpoints –
  - pending_saves (CREATE)
  - save_queue (CREATE)
- API Endpoints / Methods – Local processing only
- Permissions / Security –
  - iOS: Share Extension entitlement
  - Android: RECEIVE_SHARE intent
- Performance / SLA Notes –
  - UI response < 1s
  - Background processing acceptable
- UX References –
  - ShareExtensionView
  - SaveConfirmationToast
- Dependencies –
  - share_handler: ^0.0.19
  - receive_sharing_intent: ^1.4.5
- Acceptance Criteria –
  - Share menu shows ContentVault
  - Save completes in < 3s
  - 99% success rate
  - Background processing works
- Code Pointers –
  - lib/features/save/presentation/share_extension_handler.dart
  - ios/ShareExtension/ShareViewController.swift
  - android/app/src/main/java/ShareActivity.kt