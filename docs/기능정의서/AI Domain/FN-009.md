FN-009: Content Summarizer
- Purpose / Value – Generate concise summaries of long content
- Scope / Module – features/ai/services/summarizer
- Primary Actor(s) – Content Viewer, User Request
- Triggers –
  - Content saved
  - Summary requested
  - Viewer opened
- Inputs –
  - Full content text (String)
  - Summary length (short/medium/long)
  - Content type (Enum)
  - Language (String)
- Processing Logic –
  1. Preprocess by content type
  2. Extract key sentences
  3. YouTube: Use captions
  4. Articles: Paragraph ranking
  5. Threads: Key posts selection
  6. Generate summary via LLM/local
  7. Format as bullet points
  8. Extract 3 key terms
- Outputs –
  - Summary text (String)
  - Key points (List<String>)
  - Keywords (List<String>)
  - Summary metadata
- Business Rules & Constraints –
  - Short: 100 chars (3 sentences)
  - Medium: 200 chars (5 sentences)
  - Long: 500 chars (10 sentences)
  - Maintain factual accuracy
- Error Handling & Edge Cases –
  - API quota exceeded → Extractive summary
  - Short content → Return as-is
  - Unsupported language → Original excerpt
  - API timeout → Cached/offline model
- Data Model Touchpoints –
  - content_summaries (CREATE/UPDATE)
  - summary_cache (READ/WRITE)
- API Endpoints / Methods –
  - POST /api/ai/summarize
  - Local summarization model
- Permissions / Security –
  - API usage limits
  - User content only
- Performance / SLA Notes –
  - 5s response time
  - Cache for 30 days
- UX References –
  - SummaryCard
  - ExpandableSummary
- Dependencies –
  - openai_api: ^0.1.0
  - summarize: ^3.0.0
- Acceptance Criteria –
  - Accurate summaries
  - Preserve key info
  - Grammatically correct
  - 80% compression rate
- Code Pointers –
  - lib/features/ai/services/summarizer.dart
  - lib/features/ai/utils/text_processor.dart