FN-008: Auto-Tagging Engine
- Purpose / Value – Automatically categorize and tag saved content
- Scope / Module – features/ai/services/auto_tagger
- Primary Actor(s) – Background Processor, Manual Tag Request
- Triggers –
  - New content saved
  - Manual retag request
  - Bulk tagging job
- Inputs –
  - Content text (String)
  - Content type (Enum)
  - Existing tags (List<String>)
  - Language (String)
- Processing Logic –
  1. Extract text from content
  2. Detect language
  3. Generate embeddings/TF-IDF
  4. Classify into categories
  5. Extract keywords (max 10)
  6. Analyze sentiment
  7. Apply confidence threshold
  8. Merge with existing tags
- Outputs –
  - Suggested tags (List<Tag>)
  - Category (String)
  - Confidence scores (Map)
  - Language detected (String)
- Business Rules & Constraints –
  - Min 50 characters required
  - Max 10 tags per content
  - Confidence threshold: 0.7
  - Support Korean/English
- Error Handling & Edge Cases –
  - Short text → Basic tags only
  - Unknown language → English default
  - API failure → Local model fallback
  - Inappropriate content → Flag + warn
- Data Model Touchpoints –
  - tags (CREATE/READ)
  - content_tags (CREATE)
  - tag_stats (UPDATE)
- API Endpoints / Methods –
  - POST /api/ai/tag
  - Local ML model fallback
- Permissions / Security –
  - API rate limits apply
  - User data isolation
- Performance / SLA Notes –
  - 2s per content
  - Batch up to 100 items
- UX References –
  - TagSuggestionChips
  - CategoryBadge
- Dependencies –
  - ml_kit: ^0.16.0
  - tflite_flutter: ^0.10.0
- Acceptance Criteria –
  - 80% tagging accuracy
  - Multi-language support
  - Offline capability
  - Real-time suggestions
- Code Pointers –
  - lib/features/ai/services/auto_tagger.dart
  - lib/features/ai/models/tag_model.dart